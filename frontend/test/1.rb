#<Faye::WebSocket::API::MessageEvent:0x00000001413c40 @type="message", @data="{\"handle\":\"handle\",\"text\":\"text\"}", @bubbles=false, @cancelable=false, @current_target=#<Faye::WebSocket:0x00000001bec0e8 @env={"rack.version"=>[1, 3], "rack.errors"=>#<IO:<STDERR>>, "rack.multithread"=>true, "rack.multiprocess"=>false, "rack.run_once"=>false, "SCRIPT_NAME"=>"", "QUERY_STRING"=>"", "SERVER_PROTOCOL"=>"HTTP/1.1", "SERVER_SOFTWARE"=>"puma 3.6.0 Sleepy Sunday Serenity", "GATEWAY_INTERFACE"=>"CGI/1.2", "REQUEST_METHOD"=>"GET", "REQUEST_PATH"=>"/", "REQUEST_URI"=>"/", "HTTP_VERSION"=>"HTTP/1.1", "HTTP_HOST"=>"localhost:5000", "HTTP_CONNECTION"=>"Upgrade", "HTTP_PRAGMA"=>"no-cache", "HTTP_CACHE_CONTROL"=>"no-cache", "HTTP_UPGRADE"=>"websocket", "HTTP_ORIGIN"=>"http://localhost:5000", "HTTP_SEC_WEBSOCKET_VERSION"=>"13", "HTTP_USER_AGENT"=>"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36", "HTTP_ACCEPT_ENCODING"=>"gzip, deflate, sdch", "HTTP_ACCEPT_LANGUAGE"=>"ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4", "HTTP_COOKIE"=>"rack.session=BAh7CkkiD3Nlc3Npb25faWQGOgZFVEkiRTc4ZGVhMTQxNTIzOGRjNGZlMzQx%0AZjhjMTQyY2FiNDQyMzg0YjIwMmQyZGU1ODRkMDk4OGJjZDUwNWMxYTdiMzMG%0AOwBGSSIJY3NyZgY7AEZJIiVmZGU1ZDQ5MzUwM2YzYzU3N2ZhNmU1MGVlZGJl%0AMDE2YwY7AEZJIg10cmFja2luZwY7AEZ7B0kiFEhUVFBfVVNFUl9BR0VOVAY7%0AAFRJIi05MjMzYTYwZDdhMmY2ZTc4YzczOGJmOTIwZTY1MmRmMDY2NmU1NTk3%0ABjsARkkiGUhUVFBfQUNDRVBUX0xBTkdVQUdFBjsAVEkiLWRlZGUzZDhjODk5%0AZDU2YjIxYTU4NmQ0OWY4NDY2YmE5MGJkODgxMWUGOwBGSSIPYXV0aG9yaXpl%0AZAY7AEZGSSIOc2Vjb25kX2lkBjsARkkiBjIGOwBU%0A--836354f1d87faed3429e42798a0b5c5702912741", "HTTP_SEC_WEBSOCKET_KEY"=>"7KotB5Werin/vCQ8zbVm8Q==", "HTTP_SEC_WEBSOCKET_EXTENSIONS"=>"permessage-deflate; client_max_window_bits", "SERVER_NAME"=>"localhost", "SERVER_PORT"=>"5000", "PATH_INFO"=>"/", "REMOTE_ADDR"=>"127.0.0.1", "puma.socket"=>#<TCPSocket:fd 13>, "rack.hijack?"=>true, "rack.hijack"=>#<Puma::Client:0xdfcf64 @ready=true>, "rack.input"=>#<Puma::NullIO:0x000000018084e0>, "rack.url_scheme"=>"http", "rack.after_reply"=>[], "puma.config"=>#<Puma::Configuration:0x00000001d29c58 @options=#<Puma::LeveledOptions:0x00000001d29a00 @cur={}, @set=[{}, {:binds=>["tcp://0.0.0.0:5000"]}, {}, {:environment=>"production"}, {}, {}], @defaults={:min_threads=>0, :max_threads=>16, :log_requests=>false, :debug=>false, :binds=>["tcp://0.0.0.0:9292"], :workers=>0, :daemon=>false, :mode=>:http, :worker_timeout=>60, :worker_boot_timeout=>60, :worker_shutdown_timeout=>30, :remote_address=>:socket, :tag=>"chat-sinatra-react", :environment=>"production", :rackup=>"config.ru", :logger=>#<IO:<STDOUT>>, :persistent_timeout=>20}>, @plugins=#<Puma::PluginLoader:0x00000001d29960 @instances=[]>>, "rack.hijack_io"=>#<TCPSocket:fd 13>}, @url="ws://localhost:5000/", @ready_state=1, @listeners={"open"=>[#<Proc:0x000000017e1d90@config.ru:78>], "message"=>[#<Proc:0x000000017e1ca0@config.ru:84>], "close"=>[#<Proc:0x000000017e1bb0@config.ru:90>]}, @driver=#<WebSocket::Driver::Hybi:0x00000001af3290 @listeners={"open"=>[#<Proc:0x000000017ea328@/home/diver/.rvm/gems/ruby-2.3.1/gems/faye-websocket-0.10.4/lib/faye/websocket/api.rb:42>], "message"=>[#<Proc:0x000000017ea0d0@/home/diver/.rvm/gems/ruby-2.3.1/gems/faye-websocket-0.10.4/lib/faye/websocket/api.rb:43>], "close"=>[#<Proc:0x000000017e9f68@/home/diver/.rvm/gems/ruby-2.3.1/gems/faye-websocket-0.10.4/lib/faye/websocket/api.rb:44>], "error"=>[#<Proc:0x000000017e9ec8@/home/diver/.rvm/gems/ruby-2.3.1/gems/faye-websocket-0.10.4/lib/faye/websocket/api.rb:46>]}, @socket=#<Faye::WebSocket:0x00000001bec0e8 ...>, @reader=#<WebSocket::Driver::StreamReader:0x0000000181f0a0 @buffer="`D\x14-Q|\x8A\x82\xED\xEF(f\xDC\xD6\x8A\x82\x18\xE4g\xDC*\xD4\x8A\x82\xC4\xEFg7\xF6\xDE\x8A\x82\xE1\xFD\xD5\xE5\xD3\xCF\x8A\x82\el\e\x10)_\x8A\x82_\xB9-\x8Bm\x8D\x8A\x820\x05\a\xEC\x020\x8A\x82\xD2\xB4\xC4\xDF\xE0\x82\x8A\x82]\xB0|\x9Do\x87\x8A\x82\xE2\xD1}\x7F\xD0\xE9\x81\xA1\x10*n\x1Dk\b\x06|~N\x02x2\x10LuqD\nqu\bB?dO\x16i2\x10LiuR\x1A?m", @offset=125>, @options={:max_length=>nil, :protocols=>nil, :require_masking=>true}, @max_length=67108863, @headers={}, @queue=[], @ready_state=1, @extensions=#<WebSocket::Extensions:0x00000001811c70 @rsv3=nil, @rsv2=nil, @rsv1=nil, @by_name={}, @in_order=[], @sessions=[], @index={}>, @stage=0, @masking=nil, @protocols=[], @require_masking=true, @ping_callbacks={}, @message=nil, @frame=nil>, @ping=1, @ping_id=28, @buffered_amount=0, @stream=#<Faye::WebSocket::Stream:0x000000017e9c70 @socket_object=#<Faye::WebSocket:0x00000001bec0e8 ...>, @connection=nil, @stream_send=nil, @rack_hijack_io_reader=#<Faye::RackStream::Reader::EM_CONNECTION_CLASS:0x000000017e20d8 @signature=2, @io=#<TCPSocket:fd 13>, @watch_mode=false, @fd=13, @stream=#<Faye::WebSocket::Stream:0x000000017e9c70 ...>>, @rack_hijack_io=#<TCPSocket:fd 13>>, @proxy=nil, @ping_timer=#<EventMachine::PeriodicTimer:0x000000017e9d60 @interval=1, @code=#<Proc:0x000000017e9d88@/home/diver/.rvm/gems/ruby-2.3.1/gems/faye-websocket-0.10.4/lib/faye/websocket/api.rb:51>, @cancelled=false, @work=#<Method: EventMachine::PeriodicTimer#fire>>, @close_params=nil, @onerror=nil, @onclose=nil, @onmessage=nil, @onopen=nil, @driver_started=true, @event_buffers={}>, @target=#<Faye::WebSocket:0x00000001bec0e8 @env={"rack.version"=>[1, 3], "rack.errors"=>#<IO:<STDERR>>, "rack.multithread"=>true, "rack.multiprocess"=>false, "rack.run_once"=>false, "SCRIPT_NAME"=>"", "QUERY_STRING"=>"", "SERVER_PROTOCOL"=>"HTTP/1.1", "SERVER_SOFTWARE"=>"puma 3.6.0 Sleepy Sunday Serenity", "GATEWAY_INTERFACE"=>"CGI/1.2", "REQUEST_METHOD"=>"GET", "REQUEST_PATH"=>"/", "REQUEST_URI"=>"/", "HTTP_VERSION"=>"HTTP/1.1", "HTTP_HOST"=>"localhost:5000", "HTTP_CONNECTION"=>"Upgrade", "HTTP_PRAGMA"=>"no-cache", "HTTP_CACHE_CONTROL"=>"no-cache", "HTTP_UPGRADE"=>"websocket", "HTTP_ORIGIN"=>"http://localhost:5000", "HTTP_SEC_WEBSOCKET_VERSION"=>"13", "HTTP_USER_AGENT"=>"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36", "HTTP_ACCEPT_ENCODING"=>"gzip, deflate, sdch", "HTTP_ACCEPT_LANGUAGE"=>"ru-RU,ru;q=0.8,en-US;q=0.6,en;q=0.4", "HTTP_COOKIE"=>"rack.session=BAh7CkkiD3Nlc3Npb25faWQGOgZFVEkiRTc4ZGVhMTQxNTIzOGRjNGZlMzQx%0AZjhjMTQyY2FiNDQyMzg0YjIwMmQyZGU1ODRkMDk4OGJjZDUwNWMxYTdiMzMG%0AOwBGSSIJY3NyZgY7AEZJIiVmZGU1ZDQ5MzUwM2YzYzU3N2ZhNmU1MGVlZGJl%0AMDE2YwY7AEZJIg10cmFja2luZwY7AEZ7B0kiFEhUVFBfVVNFUl9BR0VOVAY7%0AAFRJIi05MjMzYTYwZDdhMmY2ZTc4YzczOGJmOTIwZTY1MmRmMDY2NmU1NTk3%0ABjsARkkiGUhUVFBfQUNDRVBUX0xBTkdVQUdFBjsAVEkiLWRlZGUzZDhjODk5%0AZDU2YjIxYTU4NmQ0OWY4NDY2YmE5MGJkODgxMWUGOwBGSSIPYXV0aG9yaXpl%0AZAY7AEZGSSIOc2Vjb25kX2lkBjsARkkiBjIGOwBU%0A--836354f1d87faed3429e42798a0b5c5702912741", "HTTP_SEC_WEBSOCKET_KEY"=>"7KotB5Werin/vCQ8zbVm8Q==", "HTTP_SEC_WEBSOCKET_EXTENSIONS"=>"permessage-deflate; client_max_window_bits", "SERVER_NAME"=>"localhost", "SERVER_PORT"=>"5000", "PATH_INFO"=>"/", "REMOTE_ADDR"=>"127.0.0.1", "puma.socket"=>#<TCPSocket:fd 13>, "rack.hijack?"=>true, "rack.hijack"=>#<Puma::Client:0xdfcf64 @ready=true>, "rack.input"=>#<Puma::NullIO:0x000000018084e0>, "rack.url_scheme"=>"http", "rack.after_reply"=>[], "puma.config"=>#<Puma::Configuration:0x00000001d29c58 @options=#<Puma::LeveledOptions:0x00000001d29a00 @cur={}, @set=[{}, {:binds=>["tcp://0.0.0.0:5000"]}, {}, {:environment=>"production"}, {}, {}], @defaults={:min_threads=>0, :max_threads=>16, :log_requests=>false, :debug=>false, :binds=>["tcp://0.0.0.0:9292"], :workers=>0, :daemon=>false, :mode=>:http, :worker_timeout=>60, :worker_boot_timeout=>60, :worker_shutdown_timeout=>30, :remote_address=>:socket, :tag=>"chat-sinatra-react", :environment=>"production", :rackup=>"config.ru", :logger=>#<IO:<STDOUT>>, :persistent_timeout=>20}>, @plugins=#<Puma::PluginLoader:0x00000001d29960 @instances=[]>>, "rack.hijack_io"=>#<TCPSocket:fd 13>}, @url="ws://localhost:5000/", @ready_state=1, @listeners={"open"=>[#<Proc:0x000000017e1d90@config.ru:78>], "message"=>[#<Proc:0x000000017e1ca0@config.ru:84>], "close"=>[#<Proc:0x000000017e1bb0@config.ru:90>]}, @driver=#<WebSocket::Driver::Hybi:0x00000001af3290 @listeners={"open"=>[#<Proc:0x000000017ea328@/home/diver/.rvm/gems/ruby-2.3.1/gems/faye-websocket-0.10.4/lib/faye/websocket/api.rb:42>], "message"=>[#<Proc:0x000000017ea0d0@/home/diver/.rvm/gems/ruby-2.3.1/gems/faye-websocket-0.10.4/lib/faye/websocket/api.rb:43>], "close"=>[#<Proc:0x000000017e9f68@/home/diver/.rvm/gems/ruby-2.3.1/gems/faye-websocket-0.10.4/lib/faye/websocket/api.rb:44>], "error"=>[#<Proc:0x000000017e9ec8@/home/diver/.rvm/gems/ruby-2.3.1/gems/faye-websocket-0.10.4/lib/faye/websocket/api.rb:46>]}, @socket=#<Faye::WebSocket:0x00000001bec0e8 ...>, @reader=#<WebSocket::Driver::StreamReader:0x0000000181f0a0 @buffer="`D\x14-Q|\x8A\x82\xED\xEF(f\xDC\xD6\x8A\x82\x18\xE4g\xDC*\xD4\x8A\x82\xC4\xEFg7\xF6\xDE\x8A\x82\xE1\xFD\xD5\xE5\xD3\xCF\x8A\x82\el\e\x10)_\x8A\x82_\xB9-\x8Bm\x8D\x8A\x820\x05\a\xEC\x020\x8A\x82\xD2\xB4\xC4\xDF\xE0\x82\x8A\x82]\xB0|\x9Do\x87\x8A\x82\xE2\xD1}\x7F\xD0\xE9\x81\xA1\x10*n\x1Dk\b\x06|~N\x02x2\x10LuqD\nqu\bB?dO\x16i2\x10LiuR\x1A?m", @offset=125>, @options={:max_length=>nil, :protocols=>nil, :require_masking=>true}, @max_length=67108863, @headers={}, @queue=[], @ready_state=1, @extensions=#<WebSocket::Extensions:0x00000001811c70 @rsv3=nil, @rsv2=nil, @rsv1=nil, @by_name={}, @in_order=[], @sessions=[], @index={}>, @stage=0, @masking=nil, @protocols=[], @require_masking=true, @ping_callbacks={}, @message=nil, @frame=nil>, @ping=1, @ping_id=28, @buffered_amount=0, @stream=#<Faye::WebSocket::Stream:0x000000017e9c70 @socket_object=#<Faye::WebSocket:0x00000001bec0e8 ...>, @connection=nil, @stream_send=nil, @rack_hijack_io_reader=#<Faye::RackStream::Reader::EM_CONNECTION_CLASS:0x000000017e20d8 @signature=2, @io=#<TCPSocket:fd 13>, @watch_mode=false, @fd=13, @stream=#<Faye::WebSocket::Stream:0x000000017e9c70 ...>>, @rack_hijack_io=#<TCPSocket:fd 13>>, @proxy=nil, @ping_timer=#<EventMachine::PeriodicTimer:0x000000017e9d60 @interval=1, @code=#<Proc:0x000000017e9d88@/home/diver/.rvm/gems/ruby-2.3.1/gems/faye-websocket-0.10.4/lib/faye/websocket/api.rb:51>, @cancelled=false, @work=#<Method: EventMachine::PeriodicTimer#fire>>, @close_params=nil, @onerror=nil, @onclose=nil, @onmessage=nil, @onopen=nil, @driver_started=true, @event_buffers={}>, @event_phase=2>